<div class="Main_Section">
   <!-- page section -->
   <div class="Page_Section">
      <div class="container-fluid">
      <!-- page Identity -->
         <div class="Page_Identity">
            <div class="Page_Name">
               <h5>APPLICATIONS</h5>
            </div>
            <div class="Page_Track">
               <ul >
                  <li class="HeaderName">Home </li>
                  <li class="arrow">>></li>
                  <li>Applications List</li>
               </ul>
            </div>
         </div>
         <div [ngClass]="{'Hide': !Loader}" class="DataLoaderStyle_1">
            <div class="Loading">
               <div class="spinner">
                  <div class="rect1"></div>
                  <div class="rect2"></div>
                  <div class="rect3"></div>
                  <div class="rect4"></div>
                  <div class="rect5"></div>
                  <div class="rect6"></div>
               </div>
            </div>
         </div>
         <div class="LoadedDataStyle_1" [ngClass]="{'Show': !Loader}">
            <div class="row" style="margin-bottom: 15px;">
               <div class="col-sm-3">
                  <button mat-raised-button color="primary" (click)="CreateApplication()" > + Add </button>
               </div>
               <div class="col-sm-3 Form_Select">
               </div>
               <div class="col-sm-3 Form_Select">
               </div>
               <div class="col-sm-3 Form_Select">
               </div>
            </div>
            <!-- Table Section -->
            <div class="Table_Section">
               <table>
                  <thead>
                     <tr>
                        <th width="55px">S.no</th>
                        <th>Candidate Name</th>
                        <th>Gender & Age </th>
                        <th>Institute To</th>
                        <th>Post of Application</th>
                        <th>Applied Department</th>
                        <th>Status</th>
                        <th>Applied Date</th>
                        <th width="110px">Action</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr *ngFor="let Candidate of _List; let i=index">
                        <td>
                           <span class="S_no"> {{i + 1}} </span>
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.Personal_Info?.Name}}
                              <span style="color: rgba(77, 106, 122, 0.47); display: block;
                              font-size: 12px; font-weight: 700;"> ({{Candidate.Ref_ID}}) </span> </span>
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.Personal_Info?.Gender}} ({{Candidate.Personal_Info?.Age}})</span>
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.Basic_Info?.Institution?.Institution}} ( {{Candidate.Basic_Info?.Institution?.Institution_Code}} ) </span>
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.Basic_Info?.Post_Applied?.Designation}} </span>
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.Basic_Info?.Department?.Department}} ( {{Candidate.Basic_Info?.Department?.Department_Code}} ) </span>
                        </td>
                        <td>
                           <span *ngIf="!Candidate.If_Referred_To && (!Candidate.If_Referred_From || (Candidate.If_Referred_From && Candidate.If_Referred_Accepted))" class="Style_1"> {{Candidate.Current_Status}}</span>
                           <span *ngIf="Candidate.If_Referred_From && !Candidate.If_Referred_Accepted" class="Style_1"> Referred </span>
                           <span *ngIf="Candidate.If_Referred_To" class="Style_1"> Forwarded </span> 
                        </td>
                        <td>
                           <span class="Style_1"> {{Candidate.createdAt | date:'medium'}}</span>
                        </td>
                        <td *ngIf="Candidate.If_Referred_To || !this.Application_Handle">
                           <button mat-raised-button color="primary" (click)="SetActionId(i)" [matMenuTriggerFor]="menu" (click)="View()"> View </button>
                        </td>
                        <td *ngIf="!Candidate.If_Referred_To && this.Application_Handle">
                           <ng-container *ngIf="!Candidate.BtnLoading">
                              <button mat-raised-button color="primary" (click)="SetActionId(i)" [matMenuTriggerFor]="menu" > Action </button>
                           </ng-container>
                           <ng-container *ngIf="Candidate.BtnLoading">
                              <button [disabled]="true" mat-raised-button color="primary" class="UploadingBtn"> <i class="fa fa-refresh fa-spin"></i> Loading... </button>
                           </ng-container>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>

<mat-menu #menu="matMenu" class="MenuStyleOne" [overlapTrigger]="false" yPosition="below" xPosition="after">
   <button mat-menu-item (click)="View()"> View </button>
   <ng-container *ngFor="let Menu of Temp_Menu; let i=index">
      <button *ngIf="Menu.show" mat-menu-item (click)="Action(Menu.activity)"> {{Menu.name}} </button>
   </ng-container>
</mat-menu>